{"version":3,"file":"scroll-to.js","sources":["../../src/dom/scroll-to.ts"],"sourcesContent":["import getElement from './-get-element.ts';\nimport fireEvent from './fire-event.ts';\nimport settled from '../settled.ts';\nimport type { Target } from './-target.ts';\nimport { isDocument, isElement } from './-target.ts';\nimport { runHooks } from '../helper-hooks.ts';\nimport type { IDOMElementDescriptor } from 'dom-element-descriptors';\nimport getDescription from './-get-description.ts';\n\n// eslint-disable-next-line require-jsdoc\nfunction errorMessage(message: string, target: Target) {\n  const description = getDescription(target);\n  return `${message} when calling \\`scrollTo('${description}')\\`.`;\n}\n\n/**\n  Scrolls DOM element, selector, or descriptor to the given coordinates.\n  @public\n  @param {string|HTMLElement|IDOMElementDescriptor} target the element, selector, or descriptor to trigger scroll on\n  @param {Number} x x-coordinate\n  @param {Number} y y-coordinate\n  @return {Promise<void>} resolves when settled\n\n  @example\n  <caption>\n    Scroll DOM element to specific coordinates\n  </caption>\n\n  scrollTo('#my-long-div', 0, 0); // scroll to top\n  scrollTo('#my-long-div', 0, 100); // scroll down\n*/\nexport default function scrollTo(\n  target: string | HTMLElement | IDOMElementDescriptor,\n  x: number,\n  y: number,\n): Promise<void> {\n  return Promise.resolve()\n    .then(() => runHooks('scrollTo', 'start', target))\n    .then(() => {\n      if (!target) {\n        throw new Error(\n          'Must pass an element, selector, or descriptor to `scrollTo`.',\n        );\n      }\n\n      if (x === undefined || y === undefined) {\n        throw new Error('Must pass both x and y coordinates to `scrollTo`.');\n      }\n\n      const element = getElement(target);\n      if (!element) {\n        throw new Error(errorMessage('Element not found', target));\n      }\n\n      if (!isElement(element)) {\n        let nodeType: string;\n        if (isDocument(element)) {\n          nodeType = 'Document';\n        } else {\n          // This is an error check for non-typescript callers passing in the\n          // wrong type for `target`, so we have to cast `element` (which is\n          // `never` inside this block) to something that will allow us to\n          // access `nodeType`.\n          const notElement = element as { nodeType: string };\n          nodeType = notElement.nodeType;\n        }\n\n        throw new Error(\n          errorMessage(\n            `\"target\" must be an element, but was a ${nodeType}`,\n            target,\n          ),\n        );\n      }\n\n      element.scrollTop = y;\n      element.scrollLeft = x;\n\n      return fireEvent(element, 'scroll').then(settled);\n    })\n    .then(() => runHooks('scrollTo', 'end', target));\n}\n"],"names":["errorMessage","message","target","description","getDescription","scrollTo","x","y","Promise","resolve","then","runHooks","Error","undefined","element","getElement","isElement","nodeType","isDocument","notElement","scrollTop","scrollLeft","fireEvent","settled"],"mappings":";;;;;;;AASA;AACA,SAASA,YAAYA,CAACC,OAAe,EAAEC,MAAc,EAAE;AACrD,EAAA,MAAMC,WAAW,GAAGC,cAAc,CAACF,MAAM,CAAC,CAAA;AAC1C,EAAA,OAAO,CAAGD,EAAAA,OAAO,CAA6BE,0BAAAA,EAAAA,WAAW,CAAO,KAAA,CAAA,CAAA;AAClE,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASE,QAAQA,CAC9BH,MAAoD,EACpDI,CAAS,EACTC,CAAS,EACM;EACf,OAAOC,OAAO,CAACC,OAAO,EAAE,CACrBC,IAAI,CAAC,MAAMC,QAAQ,CAAC,UAAU,EAAE,OAAO,EAAET,MAAM,CAAC,CAAC,CACjDQ,IAAI,CAAC,MAAM;IACV,IAAI,CAACR,MAAM,EAAE;AACX,MAAA,MAAM,IAAIU,KAAK,CACb,8DACF,CAAC,CAAA;AACH,KAAA;AAEA,IAAA,IAAIN,CAAC,KAAKO,SAAS,IAAIN,CAAC,KAAKM,SAAS,EAAE;AACtC,MAAA,MAAM,IAAID,KAAK,CAAC,mDAAmD,CAAC,CAAA;AACtE,KAAA;AAEA,IAAA,MAAME,OAAO,GAAGC,UAAU,CAACb,MAAM,CAAC,CAAA;IAClC,IAAI,CAACY,OAAO,EAAE;MACZ,MAAM,IAAIF,KAAK,CAACZ,YAAY,CAAC,mBAAmB,EAAEE,MAAM,CAAC,CAAC,CAAA;AAC5D,KAAA;AAEA,IAAA,IAAI,CAACc,SAAS,CAACF,OAAO,CAAC,EAAE;AACvB,MAAA,IAAIG,QAAgB,CAAA;AACpB,MAAA,IAAIC,UAAU,CAACJ,OAAO,CAAC,EAAE;AACvBG,QAAAA,QAAQ,GAAG,UAAU,CAAA;AACvB,OAAC,MAAM;AACL;AACA;AACA;AACA;QACA,MAAME,UAAU,GAAGL,OAA+B,CAAA;QAClDG,QAAQ,GAAGE,UAAU,CAACF,QAAQ,CAAA;AAChC,OAAA;MAEA,MAAM,IAAIL,KAAK,CACbZ,YAAY,CACV,CAA0CiB,uCAAAA,EAAAA,QAAQ,CAAE,CAAA,EACpDf,MACF,CACF,CAAC,CAAA;AACH,KAAA;IAEAY,OAAO,CAACM,SAAS,GAAGb,CAAC,CAAA;IACrBO,OAAO,CAACO,UAAU,GAAGf,CAAC,CAAA;IAEtB,OAAOgB,SAAS,CAACR,OAAO,EAAE,QAAQ,CAAC,CAACJ,IAAI,CAACa,OAAO,CAAC,CAAA;AACnD,GAAC,CAAC,CACDb,IAAI,CAAC,MAAMC,QAAQ,CAAC,UAAU,EAAE,KAAK,EAAET,MAAM,CAAC,CAAC,CAAA;AACpD;;;;"}